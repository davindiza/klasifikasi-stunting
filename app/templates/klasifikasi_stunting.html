{% extends "layout.html" %} {% block title %}Klasifikasi Stunting - Puskesmas{%
endblock %} {% block content %}
<h1 class="h3 mb-4 text-gray-800">Klasifikasi Stunting</h1>

<div
  aria-live="polite"
  aria-atomic="true"
  style="position: fixed; top: 1rem; right: 1rem; z-index: 2000"
>
  {% with messages = get_flashed_messages(with_categories=true) %} {% if
  messages %} {% for category, message in messages %}
  <div
    class="toast align-items-center text-bg-{{ 'success' if category == 'success' else 'danger' }} border-0 show"
    role="alert"
    aria-live="assertive"
    aria-atomic="true"
  >
    <div class="d-flex">
      <div class="toast-body">{{ message }}</div>
      <button
        type="button"
        class="btn-close btn-close-white me-2 m-auto"
        data-bs-dismiss="toast"
        aria-label="Close"
      ></button>
    </div>
  </div>
  {% endfor %} {% endif %} {% endwith %}
</div>

<div class="card shadow mb-4">
  <div class="card-header py-3">
    <h6 class="m-0 font-weight-bold text-primary">Data Klasifikasi Stunting</h6>
  </div>

  <div class="card-body">
    <div class="d-sm-flex justify-content-between align-items-center mb-4">
      <a
        href="{{ url_for('input_data') }}"
        class="btn btn-primary btn-icon-split mb-2 mb-sm-0"
      >
        <span class="icon text-white-50">
          <i class="fas fa-arrow-right"></i>
        </span>
        <span class="text">Input Data Baru</span>
      </a>

      <!-- <form class="form-inline">
        <div class="input-group">
          <input
            type="text"
            id="searchInput"
            class="form-control bg-light border-0 small"
            placeholder="Cari nama..."
            aria-label="Search"
            aria-describedby="basic-addon2"
          />
          <div class="input-group-append">
            <button class="btn btn-primary" type="button">
              <i class="fas fa-search fa-sm"></i>
            </button>
          </div>
        </div>
      </form> -->
    </div>

    <div class="table-responsive">
      <table
        class="table table-bordered"
        id="dataTable"
        width="100%"
        cellspacing="0"
      >
        <thead>
          <tr>
            <th>Name</th>
            <th>Jenis Kelamin</th>
            <th>Umur (Bulan)</th>
            <th>Tinggi (Cm)</th>
            <th>Berat (Kg)</th>
            <th>Tanggal Pengukuran</th>
            <th>Status Stunting</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody>
          {% for klasifikasi in klasifikasi_list %}
          <tr>
            <td>{{ klasifikasi.nama }}</td>
            <td>{{ klasifikasi.jk }}</td>
            <td>{{ klasifikasi.umur }}</td>
            <td>{{ klasifikasi.tinggi }}</td>
            <td>{{ klasifikasi.berat}}</td>
            <td>{{ klasifikasi.created_at.strftime('%d-%m-%Y') }}</td>
            <td>{{ klasifikasi.status_stunting}}</td>
            <td>
              <a
                href="{{ url_for('edit_klasifikasi', klasifikasi_id=klasifikasi.id) }}"
                class="btn btn-warning btn-circle"
              >
                <i class="fas fa-pen"></i>
              </a>
              <a
                href="{{ url_for('hapus_klasifikasi', klasifikasi_id=klasifikasi.id) }}"
                class="btn btn-danger btn-circle"
              >
                <i class="fas fa-trash"></i>
              </a>
            </td>
          </tr>
          {% endfor %}
        </tbody>
      </table>
    </div>
  </div>
</div>

{% endblock %}

<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Script untuk Toast Notifications
    var toastElList = [].slice.call(document.querySelectorAll(".toast"));
    toastElList.map(function (toastEl) {
      var toast = new bootstrap.Toast(toastEl, { delay: 2000 });
      toast.show();
    });
  });
</script>
